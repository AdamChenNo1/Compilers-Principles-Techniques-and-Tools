3.4.4: 对s进行归纳，证明下图中的算法正确地计算出了失效函数。
![Alt text](image\计算关键字失效函数的算法.bmp)
证明：
1. s=1时，关键字为b1，既是b1的真前缀又是其后缀的字符串为空串，所以，f(1)=0,与图中算法所得结果一致
2. 假设s=x时，图中算法所得f(s)即为正确的失效结果，即
   $$\forall i \in [1,f(x)].b_i = b_{x-f(x)+i}$$
   根据图中算法
   $$
    \exists 有限递减序列[w_{0}=f(x),w_1,...,w_{n-2},w_{n-1},w_n],其中\\  
    \forall k \in [0,n]\\
    w_k = f(w_{k-1}) >= 0\\
    n为使得
    b_{x+1} = b_{w_k + 1}=b_{f(x+1)}的最小k值或使得w_k=0的k值\\
    若b_{x+1} = b_{w_n + 1}\\
    则f(x+1) = w_n + 1,\\
    若w_n = 0且b_{x+1} \ne b_{w_n + 1},\\
    则f(x+1) = 0
    $$
   且
    $$
    \forall k \in[1,n],i \in [1,w_k].b_i 
                            = b_{w_{k-1}-w_k+i}
   $$
   则
    $$
    \forall i \in [1,w_n].b_i = b_{y(i)}\\
    其中y(i)满足
    b_{y(w_{n})} = b_x,b_{y(w_{n}-i)}=b_{x-i}
    $$  
    所以$y(i) = x-w_{n}+i$
    因此
    $$
    \forall i \in [1,w_{n}].b_i=b_{x-w_{n}+i}
        =b_{x+1-f(x+1)+i}
    $$    
    又$i= w_{n}+1 = f(x+1)$时
    $$
        b_{x+1-f(x+1)+i} = b_{x+1} = b_{f(x+1)} = b_i    
    $$
    所以  
    $$
    \forall i \in [1,f(x+1)].b_i = b_{x+1-f(x+1)+i}
    $$
   即，s=x+1时，图中算法计算的也是正确的f(s)  
   所以，图中的算法计算的是正确的失效函数